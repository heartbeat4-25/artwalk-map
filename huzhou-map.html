<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>艺行湖州地图</title>
  <style>
    html, body, #container { margin: 0; padding: 0; width: 100%; height: 100%; }
  </style>
  <script src="https://map.qq.com/api/gljs?v=1.exp&key=T2OBZ-LBZWB-EZBUX-N4QGG-XX5GJ-QXFLP"></script>
</head>
<body>
  <div id="container"></div>

  <script>
    window.onload = function () {
      const map = new TMap.Map("container", {
        center: new TMap.LatLng(30.8701, 120.0936),
        zoom: 13,
        zoomControl: true
      });

      console.log("地图初始化完成");

      // ✅ 直接添加 overlay，不用等 complete 事件
      const overlay = new TMap.GroundOverlay({
        map: map,
        url: "https://raw.githubusercontent.com/heartbeat4-25/artwalk-map/main/artwalk-map.png?ts=12345",
        bounds: new TMap.LatLngBounds(
          new TMap.LatLng(30.64, 119.79),
          new TMap.LatLng(31.02, 120.39)
        ),
        opacity: 1
      });

      console.log("Overlay 添加成功：", overlay);
    };
  </script>
</body>
</html>
